<!doctype html>
<html lang="de">
	<head>
		<link rel="apple-touch-icon" href="style/images/aster_144.png">
		<meta name="msapplication-TileColor" content="#FF0000">
		<meta name="msapplication-TileImage" content="style/images/aster_144.png">
		<link rel="icon" href="style/images/aster.ico">
		<meta charset="utf-8">
		<link rel="stylesheet" href="style/bootstrap.css">
		<link rel="stylesheet" href="style/artendb.css">
		<link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
		<script src="vendor/couchapp/modernizr.js"></script>
		<title>ArtenDb</title>
	</head>
	<body>
		<div id="menu_btn" class="btn-group">
			<button type="button" class="btn btn-sm btn-default dropdown-toggle" data-toggle="dropdown">
				Menu
				<span class="caret"></span>
			</button>
			<ul class="dropdown-menu" role="menu">
				<li role="presentation" class="dropdown-header">Mehr Infos zur Art:</li>
				<li id="GoogleBilderLink_li" class="disabled"><a id="GoogleBilderLink" href="" target="_blank">Auf google.ch Bilder suchen</a></li>
				<li id="WikipediaLink_li" class="disabled"><a id="WikipediaLink" href="" target="_blank">Auf wikipedia.org suchen</a></li>
				<li role="presentation" class="divider"></li>
				<li role="presentation" class="dropdown-header">Frei exportieren:</li>
				<li><a id="exportieren" href="#">Daten für Export wählen</a></li>
				<li role="presentation" class="divider"></li>
				<li role="presentation" class="dropdown-header">Vordefiniert exportieren:</li>
				<li><a id="exportieren_alt" href="#">Export für Artenlistentool</a></li>
				<li role="presentation" class="divider"></li>
				<li role="presentation" class="dropdown-header">Importieren oder löschen:</li>		
				<li><a id="ds_importieren" href="#">Eigenschaften</a></li>
				<li><a id="bs_importieren" href="#">Beziehungen</a></li>
				<li role="presentation" class="divider"></li>
				<li><a id="menu_admin" href="#" class="admin">Administration</a></li>
				<li role="presentation" class="divider admin"></li>
				<li role="presentation" class="dropdown-header">Über ArtenDb:</li>
				<li><a href="//github.com/FNSKtZH/artendb/blob/master/README.md" target="_blank">Projektbeschreibung anzeigen</a></li>
				<li><a href="//github.com/FNSKtZH/artendb" target="_blank">Code auf GitHub anzeigen</a></li>
				<li><a href="//github.com/FNSKtZH/artendb/commits/master" target="_blank">Letzte Änderungen am Code</a></li>
				<li><a href="mailto:alex@gabriel-software.ch">Email an Autor schreiben</a></li>
			</ul>
		</div>
		<fieldset id="menu">
			<div>
				<button id="btn_resize" type="button" class="btn btn-sm btn-default pull-right"><span class="glyphicon glyphicon-resize-horizontal"></span></button>
				<div id="menu-div">
					<div id="Gruppe_label">Gruppe wählen:</div>
				</div>
				<div id="Gruppe" class="btn-group" data-toggle="buttons">
					<label class="btn btn-primary gruppe" Gruppe="Fauna">
						<input type="radio">Fauna
					</label>
					<label class="btn btn-primary gruppe" Gruppe="Flora">
						<input type="radio">Flora
					</label>
					<label class="btn btn-primary gruppe" Gruppe="Moose">
						<input type="radio">Moose
					</label>
					<label class="btn btn-primary gruppe" Gruppe="Macromycetes">
						<input type="radio">Pilze
					</label>
					<label class="btn btn-primary gruppe" Gruppe="Lebensräume">
						<input type="radio">Lebensräume
					</label>
				</div>
			</div>
			<div id="suchenFauna" class="input-group input-group-xs suchen">
				<!--span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span-->
				<input id="suchfeldFauna" class="form-control input-sm suchfeld" type="text" placeholder="filtern">
			</div>
			<div id="suchenFlora" class="input-group input-group-xs suchen">
				<!--span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span-->
				<input id="suchfeldFlora" class="form-control input-sm suchfeld" type="text" placeholder="filtern">
			</div>
			<div id="suchenMoose" class="input-group input-group-xs suchen">
				<!--span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span-->
				<input id="suchfeldMoose" class="form-control input-sm suchfeld" type="text" placeholder="filtern">
			</div>
			<div id="suchenMacromycetes" class="input-group input-group-xs suchen">
				<!--span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span-->
				<input id="suchfeldMacromycetes" class="form-control input-sm suchfeld" type="text" placeholder="filtern">
			</div>
			<div id="suchenLebensräume" class="input-group input-group-xs suchen">
				<!--span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span-->
				<input id="suchfeldLebensräume" class="form-control input-sm suchfeld" type="text" placeholder="filtern">
			</div>
			<div id="treeMitteilung" style="display:none;">hole Daten...</div>
			<div id="treeFaunaBeschriftung" class="treeBeschriftung"></div>
			<div id="treeFloraBeschriftung" class="treeBeschriftung"></div>
			<div id="treeMooseBeschriftung" class="treeBeschriftung"></div>
			<div id="treeMacromycetesBeschriftung" class="treeBeschriftung"></div>
			<div id="treeLebensräumeBeschriftung" class="treeBeschriftung"></div>
			<div id="treeFauna" class="baum"></div>
			<div id="treeFlora" class="baum"></div>
			<div id="treeMoose" class="baum"></div>
			<div id="treeMacromycetes" class="baum"></div>
			<div id="treeLebensräume" class="baum"></div>
		</fieldset>

		<fieldset id="forms">

			<form id="art" class="form_art form form-horizontal" action="#" method="get" autocomplete="off">
				<div id="panel_art" class="panel-group">
					<div id="art_anmelden" class="panel panel-default" style="display:none;">
						<div class="panel-heading panel-heading-gradient">
							<h4 class="panel-title">
								<a id="art_anmelden_titel" class="art_anmelden_titel accordion-toggle" data-toggle="collapse" data-parent="panel_art" href="#art_anmelden_collapse">Anmelden</a>
							</h4>
						</div>
						<div id="art_anmelden_collapse" class="panel-collapse collapse anmelden">
							<div class="panel-body">
								<div class="well well-small anmelden">Um Daten zu bearbeiten, müssen Sie angemeldet sein. <a href="mailto:alex@gabriel-software.ch">Mailen Sie mir</a>, um ein Login zu erhalten.</div>
								<div class="form-group">
									<label class="control-label Email" for="Email_art">Email</label>
									<input type="email" id="Email_art" class="controls form-control Email" placeholder="Email" required>
									<div id="Emailhinweis_art" class="controls Emailhinweis hinweis alert alert-danger feld_in_formgroup">Bitte Email erfassen</div>
								</div>
								<div class="form-group">
									<label class="control-label Passwort" for="Passwort_art">Passwort</label>
									<input type="password" id="Passwort_art" class="controls form-control Passwort" placeholder="Passwort" required>
									<div id="Passworthinweis_art" class="controls Passworthinweis hinweis alert alert-danger feld_in_formgroup">Bitte Passwort erfassen</div>
									<div class="controls signup feld_in_formgroup">Vorsicht: Email und Passwort können später nicht mehr geändert werden!</div>
									<div class="controls signup feld_in_formgroup">Es wird eine verschlüsselte Version des Passworts gespeichert. Das Original kennt ausser Ihnen niemand.</div>
									<div class="controls Passwort feld_in_formgroup">Passwort vergessen? <a href="mailto:alex@gabriel-software.ch">Mailen Sie mir</a>, möglichst mit derselben email-Adresse, die Sie für das Konto verwenden.</div>
								</div>
								<div class="form-group signup">
									<label class="control-label" for="Passwort2_art">Passwort bestätigen</label>
									<input type="password" id="Passwort2_art" class="controls form-control Passwort2" placeholder="Passwort bestätigen" required>
									<div id="Passwort2hinweis_art" class="controls Passwort2hinweis hinweis alert alert-danger feld_in_formgroup">Bitte Passwort bestätigen</div>
									<div id="Passwort2hinweisFalsch_art" class="controls Passwort2hinweisFalsch hinweis alert alert-danger feld_in_formgroup">Die Passwörter stimmen nicht überein</div>
								</div>
								<div class="controls feld" style="padding-bottom:6px;">
									<button id="anmelden_btn_art" class="btn btn-primary anmelden_btn">anmelden</button>
									<button id="abmelden_btn_art" class="btn btn-primary abmelden_btn" style="display:none;">abmelden</button>
									<button id="konto_erstellen_btn_art" class="btn btn-primary konto_erstellen_btn">neues Konto erstellen</button>
									<button id="konto_speichern_btn_art" class="btn btn-primary konto_speichern_btn" style="display:none;">neues Konto speichern</button>
								</div>
								<div id="art_anmelden_fehler_text" class="importieren_anmelden_fehler_text alert alert-danger feld"></div>
								<div id="art_anmelden_hinweis_text" class="importieren_anmelden_hinweis_text alert alert-warning feld"></div>
							</div>
						</div>
					</div>
					<div id="art_inhalt"></div>
				</div>
			</form>
			
			<form id="importieren_ds" class="form_importieren_ds form form-horizontal import" action="#" method="get" autocomplete="off">
				<div class="panel-group" id="importieren_ds_panel">
					<div id="importieren_ds_anmelden" class="panel panel-default importieren_anmelden">
						<div class="panel-heading panel-heading-gradient">
							<h4 class="panel-title">
								<a id="importieren_ds_anmelden_titel" class="importieren_anmelden_titel accordion-toggle" data-toggle="collapse" data-parent="importieren_ds_panel" href="#importieren_ds_anmelden_collapse">1. Anmelden</a>
							</h4>
						</div>
						<div id="importieren_ds_anmelden_collapse" class="collapse importieren_anmelden_collapse anmelden">
							<div class="panel-body">
								<div class="well well-small anmelden">Um Daten zu bearbeiten, müssen Sie angemeldet sein. <a href="mailto:alex@gabriel-software.ch">Mailen Sie mir</a>, um ein Login zu erhalten.</div>
								<div class="form-group">
									<label class="control-label Email" for="Email_ds">Email</label>
									<input type="email" id="Email_ds" class="controls form-control Email" placeholder="Email" required>
									<div id="Emailhinweis_ds" class="controls hinweis alert alert-danger Emailhinweis feld_in_formgroup">Bitte Email erfassen</div>
								</div>
								<div class="form-group">
									<label class="control-label Passwort" for="Passwort_ds">Passwort</label>
									<input type="password" id="Passwort_ds" class="controls form-control Passwort" placeholder="Passwort" required>
									<div id="Passworthinweis_ds" class="controls hinweis alert alert-danger feld_in_formgroup">Bitte Passwort erfassen</div>
									<div class="controls signup feld_in_formgroup">Vorsicht: Email und Passwort können später nicht mehr geändert werden!</div>
									<div class="controls signup feld_in_formgroup">Es wird eine verschlüsselte Version des Passworts gespeichert. Das Original kennt ausser Ihnen niemand.</div>
									<div class="controls Passwort feld_in_formgroup">Passwort vergessen? <a href="mailto:alex@gabriel-software.ch">Mailen Sie mir</a>, möglichst mit derselben email-Adresse, die Sie für das Konto verwenden.</div>
								</div>
								<div class="form-group signup">
									<label class="control-label" for="Passwort2_ds">Passwort bestätigen</label>
									<input type="password" id="Passwort2_ds" class="controls form-control Passwort2" placeholder="Passwort bestätigen" required>
									<div id="Passwort2hinweis_ds" class="controls hinweis alert alert-danger feld_in_formgroup Passwort2hinweis">Bitte Passwort bestätigen</div>
									<div id="Passwort2hinweisFalsch_ds" class="controls hinweis alert alert-danger feld_in_formgroup Passwort2hinweisFalsch">Die Passwörter stimmen nicht überein</div>
								</div>
								<div class="controls feld" style="padding-bottom:6px;">
									<button id="anmelden_btn_ds" class="btn btn-primary anmelden_btn">anmelden</button>
									<button id="abmelden_btn_ds" class="btn btn-primary abmelden_btn" style="display:none;">abmelden</button>
									<button id="konto_erstellen_btn_ds" class="btn btn-primary konto_erstellen_btn">neues Konto erstellen</button>
									<button id="konto_speichern_btn_ds" class="btn btn-primary konto_speichern_btn" style="display:none;">neues Konto speichern</button>
								</div>
								<div id="importieren_ds_anmelden_fehler_text" class="importieren_anmelden_fehler_text alert alert-danger feld"></div>
								<div id="importieren_ds_anmelden_hinweis_text" class="importieren_anmelden_hinweis_text alert alert-warning feld"></div>
							</div>
						</div>
					</div>

					<div class="panel panel-default" id="importieren_ds_ds_beschreiben">
						<div class="panel-heading panel-heading-gradient">
							<h4 class="panel-title">
								<a class="accordion-toggle accordion-toggle" data-toggle="collapse" data-parent="importieren_ds_panel" href="#importieren_ds_ds_beschreiben_collapse">2. Datensammlung beschreiben</a>
							</h4>
						</div>
						<div class="panel-collapse collapse" id="importieren_ds_ds_beschreiben_collapse">
							<div class="panel-body">
								<div class="well well-small"><a href="//youtube.com/watch?v=tZIJ89Pj_sc" target="_blank">Screencast sehen</a></div>
								<div class="well well-small">Bitte erleichtern Sie den Benutzern, Ihre Daten zu verstehen:
									<ul>
										<li>Der Name sollte ungefähr dem ersten Teil eines Literaturzitats entsprechen. Beispiel: "Blaue Liste (1998)"</li>
										<li>Wurden die Informationen spezifisch für einen bestimmten Kanton oder die ganze Schweiz erarbeitet? Wenn ja: Bitte das entsprechende Kürzel voranstellen. Beispiel: "ZH Artwert (1995)"</li>
										<li>Die Beschreibung sollte im ersten Teil etwa einem klassischen Literaturzitat entsprechen. Beispiel: "Gigon A. et al. (1998): Blaue Listen der erfolgreich erhaltenen oder geförderten Tier- und Pflanzenarten der Roten Listen. Methodik und Anwendung in der nördlichen Schweiz. Veröff. Geobot. Inst. ETH, Stiftung Rübel, Zürich 129: 1-137 + 180 pp. Appendicesn"</li>
										<li>In einem zweiten Teil sollte beschrieben werden, welche Informationen die Datensammlung enthält. Beispiel: "Eigenschaften von 207 Tierarten und 885 Pflanzenarten"</li>
										<li>Es kann hilfreich sein, den Zweck zu beschreiben, für den die Informationen zusammengestellt wurden</li>
										<li>Im Datenstand ist erkenntlich, wann die Datensammlung zuletzt aktualisiert wurde</li>
										<li>Besonders hilfreich ist es, wann die Originalpublikation verlinkt werden kann. Oder eine erläuternde Webseite</li>
									</ul>
								</div>
								<div class="well well-small">Wenn eine zusammenfassende Datensammlung erstellt werden soll, sind die Daten zwei mal zu importieren:
									<ul>
										<li>zuerst in die Ursprungs-Datensammlung</li>
										<li>dann in die zusammenfassende. Bitte die Ursprungs-Datensammlung angeben</li>
										<li>Mehr Infos <a href="//github.com/FNSKtZH/artendb#zusammenfassende_datensammlungen" target="_blank">hier</a></li>
									</ul>
								</div>
								<div class="well well-small">Autorenrechte beachten:
									<ul>
										<li>Die Autoren müssen mit der Veröffentlichung einverstanden sein</li>
										<li>Dafür verantwortlich ist, wer Daten importiert</li>
									</ul>
								</div>
								<div class="form-group">
									<label class="control-label" for="DsWaehlen">Bestehende wählen</label>
									<select class="form-control controls" id="DsWaehlen"></select>
								</div>
								<div class="controls feld">
									<button type="button" class="btn btn-primary btn-default" id="DsLoeschen" style="display:none; margin-bottom:6px;">Gewählte Datensammlung und alle ihre Eigenschaften aus allen Arten und/oder Lebensräumen entfernen</button>
									<div id="importieren_ds_ds_beschreiben_hinweis_text" class="alert alert-info"></div>
								</div>
								<hr>
								<div class="form-group">
									<label class="control-label" for="DsName">Name</label>
									<input type="text" class="form-control controls input-sm" id="DsName">
								</div>
								<div class="form-group">
									<label class="control-label" for="DsBeschreibung">Beschreibung</label>
									<textarea class="form-control controls" id="DsBeschreibung"></textarea>
								</div>
								<div class="form-group">
									<label class="control-label" for="DsDatenstand">Datenstand</label>
									<textarea class="form-control controls" id="DsDatenstand"></textarea>
								</div>
								<div class="form-group">
									<label class="control-label" for="DsLink">Link</label>
									<textarea class="form-control controls" id="DsLink"></textarea>
								</div>
								<div class="form-group">
									<label class="control-label" for="DsImportiertVon">importiert von</label>
									<input type="text" class="form-control controls input-sm" id="DsImportiertVon">
								</div>
								<div class="form-group">
									<label class="control-label" for="DsZusammenfassend">zusammenfassend</label>
									<input type="checkbox" id="DsZusammenfassend">
								</div>
								<div class="form-group" id="DsUrsprungsDs_div" style="display:none;">
									<label class="control-label DsUrsprungsDs" for="DsUrsprungsDs" id="DsUrsprungsDs_label">Ursprungs-Datensammlung</label>
									<select class="form-control controls DsUrsprungsDs input-sm" id="DsUrsprungsDs"></select>
								</div>
								<div class="form-group">
									<label class="control-label" for="DsAnzDs" id="DsAnzDs_label"></label>
									<div id="DsAnzDs" class="feldtext controls"></div>
								</div>
								<div id="importieren_ds_ds_beschreiben_hinweis_text2" class="alert alert-info"></div>
							</div>
						</div>
					</div>

					<div class="panel panel-default" id="importieren_ds_daten_uploaden">
						<div class="panel-heading panel-heading-gradient">
							<h4 class="panel-title">
								<a class="accordion-toggle" data-toggle="collapse" data-parent="importieren_ds_panel" href="#importieren_ds_daten_uploaden_collapse">3. Eigenschaften laden</a>
							</h4>
						</div>
						<div class="panel-collapse collapse" id="importieren_ds_daten_uploaden_collapse">
							<div class="panel-body">
								<div class="well well-small">Technische Anforderungen an die Datei:
									<ul>
										<li>Die erste Zeile enthält die Feldnamen</li>
										<li>Die weiteren Zeilen enthalten je einen Datensatz, d.h. die Eigenschaften für die betreffende Art oder den Lebensraum</li>
										<li>Alle Zeilen sollten dieselbe Anzahl Felder bzw. Spalten enthalten</li>
										<li>Zeilen werden mit einem Zeilenumbruch getrennt</li>
										<li>Der Inhalt eines Felds bzw. einer Spalte sollte in der Regel in Anführungs- und Schlusszeichen eingefasst sein, z.B.: "Artwert"</li>
										<li>Ausnahmen: Zahlen und true/false-Werte brauchen keine Anführungs- und Schlusszeichen (es macht aber nichts, wenn sie sie haben)</li>
										<li>Felder sind mit Komma getrennt</li>
										<li>Achten Sie darauf, dass die Datei die Codierung "UTF 8" benutzt. Nur in diesem Format werden Umlaute und Sonderzeichen vollständig erkannt</li>
										<li>Die oben beschriebenen Anforderungen entsprechen der am häufigsten verwendeten Konfiguration des <a href="//de.wikipedia.org/wiki/CSV_(Dateiformat)">"csv"-Formats</a></li>
									</ul>
								</div>
								<div class="well well-small">Inhaltliche Anforderungen:
									<ul>
										<li>Um die Art oder den Lebensraum zu identifizieren müssen Sie eine ID mitliefern. Entweder die GUID der ArtenDb. Oder die vom entsprechenden nationalen Artdatenzentrum für diese Artengruppe verwendete ID (z.B. Flora: SISF-Nr)</li>
										<li>Sie haben bloss eine andere ID? Vielleicht finden Sie sie in einer Datensammlung der ArtenDb. Beispielsweise enthält die Flora Indicativa (= "CH Zeigerwerte (2010)") mehrere weitere ID's aus anderen Florenwerken. Sie können diese Daten gemeinsam mit der GUID der ArtenDb exportieren (z.B. ins Excel-Arbeitsblatt "ID-Liste"). Danach können Sie z.B. in Excel in der Spalte neben ihrer ID mithilfe der Funktion "SVERWEIS" die jeweilige GUID der ArtenDb einfügen. Die Funktion "SVERWEIS" schlägt dabei in der "ID-Liste" für ihre ID die GUID nach</li>
										<li>Achten Sie bitte darauf, die Feldnamen und die enthaltenen Werte uncodiert und aussagekräftig zu gestalten. Auch Nutzer ohne Spezialwissen sollten sie verstehen können</li>
										<li>Sind für Ihre Daten Codierungen wichtig? Dann importieren Sie die Daten doch einfach in zwei Felder: Eines codiert, das andere uncodiert. Und ergänzen Sie Ihre Feldnamen mit den Zusätzen "codiert" bzw. "uncodiert"</li>
										<li>ArtenDb setzt beim Export von Daten den Namen der Datensammlung vor den Feldnamen, z.B.: "ZH FNS (aktuell): Artwert". Das erleichtert das Verständnis der Daten in der "flachen" Tabelle. Beim Import hingegen ist es NICHT sinnvoll, die Felder so zu nennen. Denn den Namen der Datensammlung haben Sie im letzten Arbeitsschritt schon erfasst und er wird den Daten beim Import in hierarchischer Form mitgegeben</li>
									</ul>
								</div>
								<label class="sr-only" for="DsFile">Datei wählen</label>
								<input type="file" class="form-control" id="DsFile">
								<div id="DsTabelleEigenschaften" class="tabelle">
								</div>
							</div>
						</div>
					</div>

					<div class="panel panel-default" id="importieren_ds_ids_identifizieren">
						<div class="panel-heading panel-heading-gradient">
							<h4 class="panel-title">
								<a class="accordion-toggle" data-toggle="collapse" data-parent="importieren_ds_panel" href="#importieren_ds_ids_identifizieren_collapse">4. ID's identifizieren</a>
							</h4>
						</div>
						<div class="panel-collapse collapse" id="importieren_ds_ids_identifizieren_collapse">
							<div class="panel-body">
								<div id="DsFelder_div" class="form-group"></div>
								<div class="form-group">
									<label class="control-label" for="DsId">zugehörige ID<br>in ArtenDb</label>
									<select multiple class="form-control controls input-sm" id="DsId" style="height:101px;">
										<option value="guid">GUID der ArtenDb</option>
										<option value="Fauna">ID der Info Fauna (NUESP)</option>
										<option value="Flora">ID der Info Flora (SISF-NR)</option>
										<option value="Moose">ID des Datenzentrums Moose Schweiz (TAXONNO)</option>
										<option value="Macromycetes">ID von Swissfungi (TaxonId)</option>
									</select>
								</div>
								<div id="importieren_ds_ids_identifizieren_hinweis_text" class="alert alert-info feld"></div>
								<div id="importieren_ds_ids_identifizieren_fehler_text" class="alert alert-danger feld"></div>
								<div id="importieren_ds_ids_identifizieren_erfolg_text" class="alert alert-success feld"></div>
							</div>
						</div>
					</div>

					<div class="panel panel-default" id="importieren_ds_import_ausfuehren">
						<div class="panel-heading panel-heading-gradient">
							<h4 class="panel-title">
								<a class="accordion-toggle" data-toggle="collapse" data-parent="importieren_ds_panel" href="#importieren_ds_import_ausfuehren_collapse">5. Import ausführen</a>
							</h4>
						</div>
						<div class="panel-collapse collapse" id="importieren_ds_import_ausfuehren_collapse">
							<div class="panel-body">
								<button type="button" class="btn btn-primary" id="DsImportieren" style="margin-bottom:6px; display:none;">Datensammlung mit allen Eigenschaften importieren</button>
								<button type="button" class="btn btn-primary" id="DsEntfernen" style="margin-bottom:6px; display:none;">Datensammlung mit allen Eigenschaften aus den in der geladenen Datei enthaltenen Arten/Lebensräumen entfernen</button>
                                <div class="progress">
                                    <div id="DsImportierenProgressbar" class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"><span id="DsImportierenProgressbarText"></span>
                                    </div>
                                </div>
								<div id="importieren_ds_import_ausfuehren_hinweis" class="alert alert-info">
									<button type="button" class="close" data-dismiss="alert">&times;</button>
									<div id="importieren_ds_import_ausfuehren_hinweis_text"></div>
								</div>
							</div>
						</div>
					</div>
				</div>		
			</form>

			<form id="importieren_bs" class="form_importieren_bs form form-horizontal import" action="#" method="get" autocomplete="off">
				<div id="importieren_bs_panel" class="panel-group">
					<div id="importieren_bs_anmelden" class="panel panel-default">
						<div class="panel-heading panel-heading-gradient">
							<h4 class="panel-title">
								<a id="importieren_bs_anmelden_titel" class="importieren_anmelden_titel accordion-toggle" data-toggle="collapse" data-parent="importieren_bs_panel" href="#importieren_bs_anmelden_collapse">1. Anmelden</a>
							</h4>
						</div>
						<div id="importieren_bs_anmelden_collapse" class="collapse anmelden">
							<div class="panel-body">
								<div class="well well-small anmelden">Um Daten zu bearbeiten, müssen Sie angemeldet sein. <a href="mailto:alex@gabriel-software.ch">Mailen Sie mir</a>, um ein Login zu erhalten.</div>
								<div class="form-group">
									<label class="control-label Email" for="Email_bs">Email</label>
									<input type="email" id="Email_bs" class="controls form-control Email" placeholder="Email" required>
									<div id="Emailhinweis_bs" class="controls Emailhinweis hinweis alert alert-danger feld_in_formgroup">Bitte Email erfassen</div>
								</div>
								<div class="form-group">
									<label class="control-label Passwort" for="Passwort_bs">Passwort</label>
									<input type="password" id="Passwort_bs" class="controls form-control Passwort" placeholder="Passwort" required>
									<div id="Passworthinweis_bs" class="controls Passworthinweis hinweis alert alert-danger feld_in_formgroup">Bitte Passwort erfassen</div>
									<div class="controls signup feld_in_formgroup">Vorsicht: Email und Passwort können später nicht mehr geändert werden!</div>
									<div class="controls signup feld_in_formgroup">Es wird eine verschlüsselte Version des Passworts gespeichert. Das Original kennt ausser Ihnen niemand.</div>
									<div class="controls Passwort feld_in_formgroup">Passwort vergessen? <a href="mailto:alex@gabriel-software.ch">Mailen Sie mir</a>, möglichst mit derselben email-Adresse, die Sie für das Konto verwenden.</div>
								</div>
								<div class="form-group signup">
									<label class="control-label" for="Passwort2_bs">Passwort bestätigen</label>
									<input type="password" id="Passwort2_bs" class="controls form-control Passwort2" placeholder="Passwort bestätigen" required>
									<div id="Passwort2hinweis_bs" class="controls Passwort2hinweis hinweis alert alert-danger feld_in_formgroup">Bitte Passwort bestätigen</div>
									<div id="Passwort2hinweisFalsch_bs" class="controls Passwort2hinweisFalsch hinweis alert alert-danger feld_in_formgroup">Die Passwörter stimmen nicht überein</div>
								</div>
								<div class="controls feld" style="padding-bottom:6px;">
									<button id="anmelden_btn_bs" class="btn btn-primary anmelden_btn">anmelden</button>
									<button id="abmelden_btn_bs" class="btn btn-primary abmelden_btn" style="display:none;">abmelden</button>
									<button id="konto_erstellen_btn_bs" class="btn btn-primary konto_erstellen_btn">neues Konto erstellen</button>
									<button id="konto_speichern_btn_bs" class="btn btn-primary konto_speichern_btn" style="display:none;">neues Konto speichern</button>
								</div>
								<div id="importieren_bs_anmelden_fehler_text" class="importieren_anmelden_fehler_text alert alert-danger feld"></div>
								<div id="importieren_bs_anmelden_hinweis_text" class="importieren_anmelden_hinweis_text alert alert-warning feld"></div>
							</div>
						</div>
					</div>

					<div class="panel panel-default" id="importieren_bs_ds_beschreiben">
						<div class="panel-heading panel-heading-gradient">
							<h4 class="panel-title">
								<a class="accordion-toggle" data-toggle="collapse" data-parent="importieren_bs_panel" href="#importieren_bs_ds_beschreiben_collapse">2. Beziehungssammlung beschreiben</a>
							</h4>
						</div>
						<div class="panel-collapse collapse" id="importieren_bs_ds_beschreiben_collapse">
							<div class="panel-body">
								<div class="well well-small">Bitte erleichtern Sie den Benutzern, Ihre Daten zu verstehen:
									<ul>
										<li>Der erste Teil des Namens sollte ca. dem ersten Teil eines Literaturzitats entsprechen. Beispiel: "Delarze (2008)"</li>
										<li>Danach sollte der Namen die Art der Beziehung ausdrücken. Beispiel: "Delarze (2008): Art charakterisiert Lebensraum"</li>
										<li>Wurden die Informationen spezifisch für einen bestimmten Kanton oder die ganze Schweiz erarbeitet? Wenn ja: Bitte das entsprechende Kürzel voranstellen. Beispiel: "CH Delarze (2008): Art charakterisiert Lebensraum"</li>
										<li>Die Beschreibung sollte im ersten Teil etwa einem klassischen Literaturzitat entsprechen. Beispiel: "Delarze R. & Gonseth Y. (2008): Lebensräume der Schweiz"</li>
										<li>In einem zweiten Teil sollte beschrieben werden, welche Informationen die Datensammlung enthält. Beispiel: "Delarze R. & Gonseth Y. (2008): Lebensräume der Schweiz. 791 Beziehungen zwischen 279 Lebensräumen und Tierarten"</li>
										<li>Es kann hilfreich sein, den Zweck zu beschreiben, für den die Informationen zusammengestellt wurden</li>
										<li>Im Datenstand ist erkenntlich, wann die Datensammlung zuletzt aktualisiert wurde</li>
										<li>Besonders hilfreich ist es, wann die Originalpublikation verlinkt werden kann. Oder eine erläuternde Webseite</li>
									</ul>
								</div>
								<div class="well well-small">Wenn eine zusammenfassende Beziehungssammlung erstellt werden soll, sind die Daten zwei mal zu importieren:
									<ul>
										<li>zuerst in die Ursprungs-Beziehungssammlung</li>
										<li>dann in die zusammenfassende. Bitte die Ursprungs-Beziehungssammlung angeben</li>
									</ul>
								</div>
								<div class="well well-small">Autorenrechte beachten:
									<ul>
										<li>Die Autoren müssen mit der Veröffentlichung einverstanden sein</li>
										<li>Dafür verantwortlich ist, wer Daten importiert</li>
									</ul>
								</div>
								<div class="form-group">
									<label class="control-label" for="BsWaehlen">Bestehende wählen</label>
									<select class="form-control controls" id="BsWaehlen"></select>
								</div>
								<div class="controls feld">
									<button type="button" class="btn btn-primary" id="BsLoeschen" style="display:none; margin-bottom:6px;">Gewählte Beziehungssammlung und alle ihre Eigenschaften aus allen Arten und/oder Lebensräumen entfernen</button>
									<div id="importieren_bs_ds_beschreiben_hinweis" class="alert alert-info">
									<button type="button" class="close" data-dismiss="alert">&times;</button>
									<div id="importieren_bs_ds_beschreiben_hinweis_text"></div>
								</div>
								</div>
								<hr>
								<div class="form-group">
									<label class="control-label" for="BsName">Name</label>
									<input type="text" class="form-control controls input-sm" id="BsName">
								</div>
								<div class="form-group">
									<label class="control-label" for="BsBeschreibung">Beschreibung</label>
									<textarea class="form-control controls" id="BsBeschreibung"></textarea>
								</div>
								<div class="form-group">
									<label class="control-label" for="BsDatenstand">Datenstand</label>
									<textarea class="form-control controls" id="BsDatenstand"></textarea>
								</div>
								<div class="form-group">
									<label class="control-label" for="BsLink">Link</label>
									<textarea class="form-control controls" id="BsLink"></textarea>
								</div>
								<div class="form-group">
									<label class="control-label" for="BsImportiertVon">importiert von</label>
									<input type="text" class="form-control controls input-sm" id="BsImportiertVon">
								</div>
								<div class="form-group">
									<label class="control-label" for="BsZusammenfassend">zusammenfassend</label>
									<input type="checkbox" id="BsZusammenfassend">
								</div>
								<div class="form-group" id="BsUrsprungsBs_div" style="display:none;">
									<label class="control-label BsUrsprungsBs" for="BsUrsprungsBs" id="BsUrsprungsBs_label">Ursprungs-Datensammlung</label>
									<select class="form-control controls BsUrsprungsBs" id="BsUrsprungsBs"></select>
								</div>
								<div class="form-group">
									<label class="control-label" for="BsAnzDs" id="BsAnzDs_label"></label>
									<div id="BsAnzDs" class="feldtext controls"></div>
								</div>
								<div id="importieren_bs_ds_beschreiben_hinweis2" class="alert alert-info">
									<button type="button" class="close" data-dismiss="alert">&times;</button>
									<div id="importieren_bs_ds_beschreiben_hinweis_text2"></div>
								</div>
							</div>
						</div>
					</div>

					<div class="panel panel-default" id="importieren_bs_daten_uploaden">
						<div class="panel-heading panel-heading-gradient">
							<h4 class="panel-title">
								<a class="accordion-toggle" data-toggle="collapse" data-parent="importieren_bs_panel" href="#importieren_bs_daten_uploaden_collapse">3. Beziehungen laden</a>
							</h4>
						</div>
						<div class="panel-collapse collapse" id="importieren_bs_daten_uploaden_collapse">
							<div class="panel-body">
								<div class="well well-small">Technische Anforderungen an die Datei:
									<ul>
										<li>Die erste Zeile enthält die Feldnamen</li>
										<li>Die weiteren Zeilen enthalten je einen Datensatz, d.h. eine Beziehung für die betreffende Art oder den Lebensraum</li>
										<li>Alle Zeilen sollten dieselbe Anzahl Felder bzw. Spalten enthalten</li>
										<li>Zeilen werden mit einem Zeilenumbruch getrennt</li>
										<li>Der Inhalt eines Felds bzw. einer Spalte sollte NICHT in Anführungs- und Schlusszeichen eingefasst sein. Felder sollten aber keine Kommas enthalten</li>
										<li>Felder sind mit Komma getrennt</li>
										<li>Achten Sie darauf, dass die Datei die Codierung "UTF 8" benutzt. Nur in diesem Format werden Umlaute und Sonderzeichen vollständig erkannt</li>
									</ul>
								</div>
								<div class="well well-small">Inhaltliche Anforderungen:
									<ul>
										<li>Um die zu beschreibende Art oder den Lebensraum zu identifizieren müssen Sie eine ID mitliefern. Entweder die GUID der ArtenDb. Oder die vom entsprechenden nationalen Artdatenzentrum für diese Artengruppe verwendete ID (z.B. Flora: SISF-Nr)</li>
										<li>Sie haben bloss eine andere ID? Vielleicht finden Sie sie in einer Datensammlung der ArtenDb. Beispielsweise enthält die Flora Indicativa (= "CH Zeigerwerte (2010)") mehrere weitere ID's aus anderen Florenwerken. Sie können diese Daten gemeinsam mit der GUID der ArtenDb exportieren (z.B. ins Excel-Arbeitsblatt "ID-Liste"). Danach können Sie z.B. in Excel in der Spalte neben ihrer ID mithilfe der Funktion "SVERWEIS" die jeweilige GUID der ArtenDb einfügen. Die Funktion "SVERWEIS" schlägt dabei in der "ID-Liste" für ihre ID die GUID nach</li>
										<li>Es braucht ein Feld namens "Beziehungspartner". Dieses muss jeweils ein oder mehrere GUID's der ArtenDb enthalten (andere ID's werden hier - zumindest vorläufig - nicht erkannt)</li>
										<li>Es können beliebig viele weitere, die Beziehung beschreibende Felder enthalten sein</li>
										<li>Achten Sie bitte darauf, die Feldnamen und die enthaltenen Werte uncodiert und aussagekräftig zu gestalten. Auch Nutzer ohne Spezialwissen sollten sie verstehen können</li>
										<li>Sind für Ihre Daten Codierungen wichtig? Dann importieren Sie die Daten doch einfach in zwei Felder: Eines codiert, das andere uncodiert. Und ergänzen Sie Ihre Feldnamen mit den Zusätzen "codiert" bzw. "uncodiert"</li>
										<li>ArtenDb setzt beim Export von Daten den Namen der Datensammlung vor den Feldnamen, z.B.: "ZH FNS (aktuell): Artwert". Das erleichtert das Verständnis der Daten in der "flachen" Tabelle. Beim Import hingegen ist es NICHT sinnvoll, die Felder so zu nennen. Denn den Namen der Datensammlung haben Sie im letzten Arbeitsschritt schon erfasst und er wird den Daten beim Import in hierarchischer Form mitgegeben</li>
									</ul>
								</div>
								<label class="sr-only" for="BsFile">Datei wählen</label>
								<input type="file" class="form-control" id="BsFile">
								<div id="BsTabelleEigenschaften" class="tabelle">
								</div>
							</div>
						</div>
					</div>

					<div class="panel panel-default" id="importieren_bs_ids_identifizieren">
						<div class="panel-heading panel-heading-gradient">
							<h4 class="panel-title">
								<a class="accordion-toggle" data-toggle="collapse" data-parent="importieren_bs_panel" href="#importieren_bs_ids_identifizieren_collapse">4. ID's identifizieren</a>
							</h4>
						</div>
						<div class="panel-collapse collapse" id="importieren_bs_ids_identifizieren_collapse">
							<div class="panel-body">
								<div id="BsFelder_div" class="form-group"></div>
								<div class="form-group">
									<label class="control-label" for="BsId">zugehörige ID in ArtenDb</label>
									<select multiple class="form-control controls" id="BsId" style="height:101px;">
										<option value="guid">GUID der ArtenDb</option>
										<option value="Fauna">ID der Info Fauna (NUESP)</option>
										<option value="Flora">ID der Info Flora (SISF-NR)</option>
										<option value="Moose">ID des Datenzentrums Moose Schweiz (TAXONNO)</option>
										<option value="Macromycetes">ID von Swissfungi (TaxonId)</option>
									</select>
								</div>
								<div id="importieren_bs_ids_identifizieren_hinweis_text" class="alert alert-info feld"></div>
								<div id="importieren_bs_ids_identifizieren_fehler_text" class="alert alert-danger feld"></div>
								<div id="importieren_bs_ids_identifizieren_erfolg_text" class="alert alert-success feld"></div>
							</div>
						</div>
					</div>

					<div class="panel panel-default" id="importieren_bs_import_ausfuehren">
						<div class="panel-heading panel-heading-gradient">
							<h4 class="panel-title">
								<a class="accordion-toggle" data-toggle="collapse" data-parent="importieren_bs_panel" href="#importieren_bs_import_ausfuehren_collapse">5. Import ausführen</a>
							</h4>
						</div>
						<div class="panel-collapse collapse" id="importieren_bs_import_ausfuehren_collapse">
							<div class="panel-body">
								<button type="button" class="btn btn-primary" id="BsImportieren" style="margin-bottom:6px;">Beziehungssammlung mit allen Eigenschaften importieren</button>
								<button type="button" class="btn btn-primary" id="BsEntfernen" style="margin-bottom:6px;">Beziehungssammlung mit allen Eigenschaften aus den in der geladenen Datei enthaltenen Arten/Lebensräumen entfernen</button>
                                <div class="progress">
                                    <div id="BsImportierenProgressbar" class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                                        <span id="BsImportierenProgressbarText"></span>
                                    </div>
                                </div>
								<div id="importieren_bs_import_ausfuehren_hinweis" class="alert alert-info">
									<button type="button" class="close" data-dismiss="alert">&times;</button>
									<div id="importieren_bs_import_ausfuehren_hinweis_text"></div>
								</div>
							</div>
						</div>
					</div>
				</div>		
			</form>

			<form id="export" class="form_export form form-horizontal" action="#" method="get" autocomplete="off">
				<div id="exportieren_panel" class="panel-group">
					<div class="panel panel-default" id="exportieren_objekte_waehlen_gruppen">
						<div class="panel-heading panel-heading-gradient">
							<h4 class="panel-title">
								<a id="exportieren_objekte_waehlen_gruppen_titel" class="accordion-toggle" data-toggle="collapse" data-target="#exportieren_objekte_waehlen_gruppen_collapse" data-parent="exportieren_panel" href="#exportieren_objekte_waehlen_gruppen_collapse">1. Gruppe(n) wählen</a>
							</h4>
						</div>
						<div class="collapse in" id="exportieren_objekte_waehlen_gruppen_collapse">
							<div class="panel-body">
								<div class="well well-small">So geht's:
									<ul>
										<li>Wählen Sie eine oder mehrere Gruppen</li>
										<li>Danach werden die Eigenschaften der Gruppe(n) aufgebaut...</li>
										<li>...und Sie können filtern und Eigenschaften wählen</li>
										<li>Mit der Schaltfläche "Alle Taxonomien zusammenfassen" werden alle in den gewählten Gruppen vorkommenden Taxonomien unter dem Titel "Taxonomie(n)" zusammegefasst und alle vorkommenden Felder aufgelistet
											<ul>
												<li>Das ist vor allem für Lebensräume interessant: Jeder Lebensraumschlüssel stellt eine Taxonomie dar und oft haben sie dieselben Felder.
												<br>Filtern Sie beispielsweise im Feld "Taxonomie" nach "Delarze", können Sie alle Informationen von Delarze gleichzeitig exportieren</li>
											<li>Sie können so auch Arten aus mehreren Gruppen exportieren und dabei den vollständigen Artnamen ins selbe Feld schreiben</li>
											</ul>
										</li>
										<li><a href="//youtube.com/watch?v=VlvuUPdMVKw" target="_blank">Screencast sehen</a></li>
									</ul>
								</div>
								<div class="checkbox">
                                    <label>
                                        <input class="exportieren_ds_objekte_waehlen_gruppe" type="checkbox"
                                               view="fauna" value="Fauna">
                                        Fauna
                                    </label>
                                </div>
								<div class="checkbox">
                                    <label>
                                        <input class="exportieren_ds_objekte_waehlen_gruppe" type="checkbox"
                                               view="flora" value="Flora">
                                        Flora
                                    </label>
                                </div>
								<div class="checkbox">
                                    <label>
                                        <input class="exportieren_ds_objekte_waehlen_gruppe" type="checkbox"
                                               view="moose" value="Moose">
                                        Moose
                                    </label>
                                </div>
								<div class="checkbox">
                                    <label>
                                        <input class="exportieren_ds_objekte_waehlen_gruppe" type="checkbox"
                                               view="macromycetes" value="Macromycetes">
                                        Pilze
                                    </label>
								</div>
								<div class="checkbox" style="margin-bottom:5px;">
                                    <label>
                                        <input class="exportieren_ds_objekte_waehlen_gruppe" type="checkbox" view="lr"
                                               value="Lebensräume">
                                        Lebensräume
                                    </label>
                                </div>
								<button id="exportieren_objekte_Taxonomien_zusammenfassen" type="button" class="btn btn-primary" data-toggle="button" style="margin-bottom:9px;">Alle Taxonomien zusammenfassen</button>
								<div id="exportieren_objekte_waehlen_gruppen_hinweis_text" class="alert alert-info"></div>
							</div>
						</div>
					</div>

					<div class="panel panel-default" id="exportieren_objekte_waehlen_ds">
						<div class="panel-heading panel-heading-gradient">
							<h4 class="panel-title">
								<a id="exportieren_objekte_waehlen_ds_titel" class="accordion-toggle" data-toggle="collapse" data-target="#exportieren_objekte_waehlen_ds_collapse" data-parent="exportieren_panel" href="#exportieren_objekte_waehlen_ds_collapse">2. filtern</a>
							</h4>
						</div>
						<div class="panel-collapse collapse" id="exportieren_objekte_waehlen_ds_collapse">
							<div class="panel-body">
								<div class="well well-small" style="margin-bottom:15px;">So geht's:
									<ul>
										<li>Nachfolgend sind alle Eigenschaften aufgelistet, die in den gewählten Gruppen vorkommen</li>
										<li>Erfassen Sie in den Eigenschaften Ihrer Wahl die gewünschten Kriterien...</li>
										<li>...und wählen Sie danach unter "3. Eigenschaften wählen", welche Eigenschaften exportiert werden sollen</li>
									</ul>
									<p>Tipps zum Filtern:</p>
									<ul>
										<li>Sie können nach beliebig vielen Eigenschaften filtern. Jedes Kriterium reduziert die Anzahl "Treffer"
											<br>Beispiel: Filtern Sie im Namen nach "Eisvogel" und in der Ordnung nach "Lepidoptera", erhalten Sie drei Schmetterlinge aber nicht den entsprechenden Vogel</li>
										<li>Sie möchten nach "Schmetterlinge" oder "Vögel" suchen? Exportieren Sie zuerst "Schmetterlinge", danach die "Vögel" und setzen die zwei Exporte zusammen</li>
										<li>Es kommt nicht auf Gross-/Kleinschreibung an
											<br>Beispiel: Schreiben Sie "eisvogel", wird auch "Eisvogel" gefunden</li>
										<li>Sie können nach einem Teil des Feldinhalts filtern (wenn Sie keine Vergleichsoperatoren verwenden)
											<br>Beispiel: Schreiben Sie "Vogel", wird auch "Eisvogel" gefunden</li>
										<li>Sie können die folgenden Vergleichsoperatoren verwenden: "=", ">", ">=", "<", "<="
											<br>Beispiel 1: Schreiben Sie im Feld "Artwert" ">5", werden Arten mit Artwert ab 6 gefunden
											<br>Beispiel 2: Schreiben Sie "=Vogel", wird nur "Vogel" gefunden, nicht aber "Eisvogel"</li>
										<li>Sie möchten nach einem Feld filtern, das entweder "ja" oder "nein", "wahr" oder "falsch" ist? Verwenden Sie die Englischen Begriffe "true" und "false" (ohne Hochzeichen)</li>
										<li>Was (noch) NICHT funktioniert: Wenn Sie nach zwei oder mehr Eigenschaften derselben Beziehungssammlung filtern und eines davon ist "Beziehungspartner", erhalten Sie zuviele Resultate. Filtern Sie hier also bloss nach einer Eigenschaft und im exportierten Resultat nach der zweiten</li>
									</ul>
								</div>
								<div class="checkbox">
									<label>
										<input type="checkbox" id="exportieren_nur_ds" checked>
									<b>Nur Datensätze mit Informationen aus den im nächsten Schritt gewählten Daten- und Beziehungssammlungen exportieren.</b><br>Entfernen Sie diese Option, um auch Datensätze zu exportieren, die nur Informationen aus Art/Lebensraum und Taxonomie enthalten.
									</label>
								</div>
								<hr>
								<h3>Art / Lebensraum</h3>
								<div class="form-group">
									<label class="control-label" for="exportieren_objekte_waehlen_ds_guid">GUID</label>
									<input class="controls form-control export_feld_filtern input-sm" type="text" id="exportieren_objekte_waehlen_ds_guid" Eigenschaft="Objekt" Feld="GUID">
								</div>
								<div id="exportieren_objekte_waehlen_ds_felderliste"></div>
							</div>
						</div>
					</div>

					<div class="panel panel-default" id="exportieren_felder_waehlen">
						<div class="panel-heading panel-heading-gradient">
							<h4 class="panel-title">
								<a id="exportieren_felder_waehlen_titel" class="accordion-toggle" data-toggle="collapse" data-target="#exportieren_felder_waehlen_collapse" data-parent="exportieren_panel" href="#exportieren_felder_waehlen_collapse">3. Eigenschaften wählen</a>
							</h4>
						</div>
						<div class="panel-collapse collapse" id="exportieren_felder_waehlen_collapse">
							<div class="panel-body">
								<div class="well well-small" style="margin-bottom:15px;">So geht's:
									<ul>
										<li>Nachfolgend sind alle Eigenschaften aufgelistet, die in den gewählten Gruppen vorkommen</li>
										<li>Bestimmen Sie, ob Informationen von Synonymen mitgeliefert werden sollen...</li>
										<li>...markieren Sie die Eigenschaften, die Sie exportieren möchten...</li>
										<li>...und fahren Sie danach mit "4. exportieren" weiter</li>
									</ul>
								</div>
								<div class="checkbox">
									<label>
										<input type="checkbox" id="exportieren_synonym_infos" checked>
										<b>inklusive Informationen von Synonymen</b>
									</label>
								</div>
								<hr>
								<h3>Art / Lebensraum</h3>
								<div class="felderspalte">
									<div class="checkbox">
										<label>
											<input id="exportieren_felder_waehlen_objekt_id" class="exportieren_felder_waehlen_objekt_feld feld_waehlen" type="checkbox" feldname="GUID" value="GUID" checked>GUID
										</label>
									</div>
									<div class="checkbox">
										<label>
											<input id="exportieren_felder_waehlen_objekt_gruppe" class="exportieren_felder_waehlen_objekt_feld feld_waehlen" type="checkbox" feldname="Gruppe" value="Gruppe">Gruppe
										</label>
									</div>
								</div>
								<div id="exportieren_felder_waehlen_felderliste"></div>
							</div>
						</div>
					</div>

					<div id="exportieren_exportieren" class="panel panel-default">
						<div class="panel-heading panel-heading-gradient">
							<h4 class="panel-title">
								<a id="exportieren_exportieren_titel" class="accordion-toggle" data-toggle="collapse" data-target="#exportieren_exportieren_collapse" data-parent="exportieren_panel" href="#exportieren_exportieren_collapse">4. exportieren</a>
							</h4>
						</div>
						<div id="exportieren_exportieren_collapse" class="panel-collapse collapse">
							<div class="panel-body">
								<div class="well well-small" style="margin-bottom:9px;">So geht's:
									<ul>
										<li>Der Server filtert und baut die Exportdaten auf</li>
										<li><strong>...das dauert eine ganze Weile. Geduld bringt Daten!</strong></li>
										<li>Danach wird eine Vorschau der ersten 10 Datensätze angezeigt</li>
										<li>...und es erscheinen Schaltflächen für den Download</li>
										<li>Die Exportdatei hat das .csv-Format:
											<ul>
												<li>Zeichensatz ist UTF-8 (wichtig, sonst werden Umlaute zu Datensalat)</li>
												<li>Die erste Zeile enthält die Feldnamen</li>
												<li>Felder sind mit Kommas (,) getrennt</li>
												<li>Text ist in Anführungs- und Schlusszeichen (") eingeschlossen</li>
											</ul>
										</li>
									</ul>
								</div>
								<button id="exportieren_exportieren_exportieren" class="btn btn-primary exportieren_exportieren_exportieren" style="display:none;">direkt herunterladen (schnell, funktioniert nur auf modernen Browsern)</button>
								<button id="exportieren_exportieren_exportieren_direkt" class="btn btn-primary exportieren_exportieren_exportieren" style="display:none;">vom Server herunterladen (langsam, auch auf alten Browsern)</button>
								<div id="exportieren_exportieren_tabelle" class="tabelle" style="padding-top:7px;margin-bottom:7px;"></div>
								<div id="exportieren_exportieren_hinweis_text" class="alert alert-info"></div>
								<div id="exportieren_exportieren_error_text" class="alert alert-danger"></div>
							</div><!--panel-body-->
						</div><!--panel-collapse-->
					</div><!--panel-->
				</div><!--panel-group-->	
			</form>

			<form id="admin" class="form_admin form form-horizontal" action="#" method="get" autocomplete="off">
				<div id="admin_panel" class="panel-group">
					<div class="panel panel-default" id="exportieren_diverses">
						<div class="panel-heading panel-heading-gradient">
							<h4 class="panel-title">
								<a id="exportieren_diverses_titel" class="accordion-toggle" data-toggle="collapse" data-target="#exportieren_diverses_collapse" data-parent="exportieren_panel" href="#exportieren_diverses_collapse">Diverses</a>
							</h4>
						</div>
						<div class="collapse in" id="exportieren_diverses_collapse">
							<div class="panel-body">
								<button id="admin_pilze_zhgis_ergänzen" type="button" class="btn btn-default">Pilze: GIS-Layer "Pilze" in Datensammlung "ZH GIS" ergänzen</button>
								<span id="admin_pilze_zhgis_ergänzen_rückmeldung"></span>
							</div>
						</div>
					</div>
				</div><!--panel-group-->	
			</form>

		</fieldset>

		<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
		<script>window.jQuery || document.write('<script src="vendor/couchapp/jquery.js" type="text/javascript"><\/script>');</script>
		<script src="vendor/couchapp/underscore.js"></script>
		<script src="vendor/couchapp/bootstrap.js"></script>
		<script src="vendor/couchapp/typeahead.js"></script>
		<script src="vendor/couchapp/jquery.jstree.js"></script>
		<script src="vendor/couchapp/jquery.cookie.js"></script>
		<script src="vendor/couchapp/jquery.hotkeys.js"></script>
		<script src="vendor/couchapp/jquery.couch.js"></script>
		<script src="vendor/couchapp/jquery.csv.js"></script>
		<script src="vendor/couchapp/jsuri.js"></script>
		<script src="vendor/couchapp/FileSaver.js" defer></script>
		<script src="vendor/couchapp/css3-mediaqueries.js"></script>
		<script src="vendor/couchapp/history.js"></script>
		<script src="vendor/couchapp/sha1.js"></script>
		<script src="vendor/couchapp/artendb.js"></script>

		<script>

			window.adb = window.adb || {};

			$(document).ready(function() {
	
				BrowserDetect.init();
				// zunächst mal den gröbsten Bock abfangen
				if (BrowserDetect.browser == 'Explorer' && BrowserDetect.version < 9) {
					$('#meldung_individuell_text').html("Ihr Browser unterstützt diverse Funktionen nicht, die ArtenDb benötigt,<br>zum Beispiel:<br><br><ul><li>importieren</li><li>viele Felder exportieren</li><li>mit den Schaltflächen 'zurück' und 'vorwärts' navigieren</li><li>Daten werden nicht optimal angezeigt</li><li>die Anwendung ist teilweise extrem langsam</li><li>...und dauernd erscheinen Fenster mit der Frage 'Ausführung des Skripts abbrechen?'</li></ul><br>Empfehlung: Verwenden Sie eine aktuelle Version von z.B. <a href='//google.de/chrome/'>Google Chrome</a> (empfohlen), <a href='//mozilla.org/de/firefox/new/'>Mozilla Firefox</a> oder <a href='http://windows.microsoft.com/de-de/internet-explorer/download-ie'>Internet Explorer</a>.");
					$("#meldung_individuell_schliessen").html("trotzdem weiterfahren");
					$('#meldung_individuell_label').html("inkompatibler Browser");
					$('#meldung_individuell').modal();
				// jetzt den nächstgrössten Bock
				} else if (BrowserDetect.browser == 'Explorer' && BrowserDetect.version === 9) {
					$('#meldung_individuell_text').html("Ihr Browser unterstützt einige Funktionen nicht, die ArtenDb benötigt,<br>zum Beispiel:<br><br><ul><li>importieren</li><li>Exporte direkt herunterladen</li><li>Feldlisten mehrspaltig darstellen</li><li>mit den Schaltflächen 'zurück' und 'vorwärts' navigieren.<br>Benützen Sie stattdessen den Strukturbaum und das Menu</li></ul><br>Tipp: Verwenden Sie eine aktuelle Version von z.B. <a href='//google.de/chrome/'>Google Chrome</a> (empfohlen), <a href='//mozilla.org/de/firefox/new/'>Mozilla Firefox</a> oder <a href='http://windows.microsoft.com/de-de/internet-explorer/download-ie'>Internet Explorer</a>.");
					$("#meldung_individuell_schliessen").html("trotzdem weiterfahren");
					$('#meldung_individuell_label').html("ungeeigneter Browser");
					$('#meldung_individuell').modal();
				} else {
					// jetzt weniger schlimme Inkompatibilitäten
					// prüfen, ob media queries unterstützt werden. Wenn nein, melden
					if (!Modernizr.mq('(min-width: 10px)')) {
						$('#meldung_individuell_text').html("Ihr Browser unterstützt keine media queries.<br>ArtenDb wird nicht optimal funktionieren.<br><br>Tipp: Verwenden Sie eine aktuelle Version von z.B. <a href='//google.de/chrome/'>Google Chrome</a> (empfohlen), <a href='//mozilla.org/de/firefox/new/'>Mozilla Firefox</a> oder <a href='http://windows.microsoft.com/de-de/internet-explorer/download-ie'>Internet Explorer</a>.");
						$("#meldung_individuell_schliessen").html("schliessen");
						$('#meldung_individuell_label').html("inkompatibler Browser");
						$('#meldung_individuell').modal();
					}

					// prüfen, ob history unterstützt wird. Wenn nein, shim laden
					// achtung: der shim ermöglicht zwar, Links zu Arten zu laden (mit nachfolgendem window.onload)
					// aber er hängt einen # an die url und erzeugt daher müll, was komisch aussieht
					// zurück-Taste funktioniert dann auch nicht
					if (!Modernizr.history) {
						$('#meldung_individuell_text').html("Ihr Browser unterstützt keine history.<br>Daher können Sie nicht mit den Schaltflächen 'zurück' und 'vorwärts' navigieren<br>Benützen Sie stattdessen den Strukturbaum und das Menu.<br><br>Tipp: Verwenden Sie eine aktuelle Version von z.B. <a href='//google.de/chrome/'>Google Chrome</a> (empfohlen), <a href='//mozilla.org/de/firefox/new/'>Mozilla Firefox</a> oder <a href='http://windows.microsoft.com/de-de/internet-explorer/download-ie'>Internet Explorer</a>.");
						$("#meldung_individuell_schliessen").html("schliessen");
						$('#meldung_individuell_label').html("inkompatibler Browser");
						$('#meldung_individuell').modal();
					}
				}

				/*
				DAS HAT ALLES NICHT GEKLAPPT
				DARUM IN SCRIPTS GELADEN
				Modernizr.load({
					test: Modernizr.history,
					nope: 'vendor/couchapp/history.js'
				});

				if (!window.history || !history.pushState) {
					$.getScript('vendor/couchapp/history.js');
				}*/

				Modernizr.load({
					test: Modernizr.csstransforms,
					nope: 'style/artendb_ohne_mq.css'
				});

				Modernizr.load({
					test: Modernizr.csscolumns,
					nope: 'vendor/couchapp/css3-multi-column.js'	// scheint nicht zu funktionieren, auf IE8 und IE9
				});

				// IE8 kennt trim nicht!
				if (!String.prototype.trim)  {
					String.prototype.trim = function() {
						return this.replace(/^\s+|\s+$/g, '');
					};
				}

				// IE8 kennt indexOf nicht!
				if (!Array.prototype.indexOf) {
					Array.prototype.indexOf = function(obj, start) {
						for (var i = (start || 0), j = this.length; i < j; i++) {
							if (this[i] === obj) { return i; }
						}
						return -1;
					};
				}

				// in IE8 funktioniert createElementNS nicht oder allenfalls erst mit Verzögerung
				// das hier war der Versuch, es erst später aufzurufen (natürlich in script tag ausgeschaltet)
				// hat aber nicht geklappt
				/*setTimeout(function() {
					$.getScript('vendor/couchapp/FileSaver.js');
				}, 100);*/

				// falls URL übergeben wurde, das entsprechende Dokument öffnen
				// soll auch ausgelöst werden, wenn die Rücktaste oder Vortaste getätigt wird
				// Achtung: IE 8 und älter kennen addEventListener nicht, daher prüfen, ob es existiert
				if (window.addEventListener) {
					window.addEventListener('popstate', function() {
						window.adb.öffneUri();
					});
				}

				// IE8 kennt Object.keys nicht
				if (!Object.keys) {
					Object.keys = (function() {
						var hasOwnProperty = Object.prototype.hasOwnProperty,
								hasDontEnumBug = !({toString: null}).propertyIsEnumerable('toString'),
								dontEnums = [
									'toString',
									'toLocaleString',
									'valueOf',
									'hasOwnProperty',
									'isPrototypeOf',
									'propertyIsEnumerable',
									'constructor'
								],
								dontEnumsLength = dontEnums.length;
				 
						return function(obj) {
							if (typeof obj !== 'object' && typeof obj !== 'function' || obj === null) throw new TypeError('Object.keys called on non-object');
				 
							var result = [];
				 
							for (var prop in obj) {
								if (hasOwnProperty.call(obj, prop)) result.push(prop);
							}
				 
							if (hasDontEnumBug) {
								for (var i=0; i < dontEnumsLength; i++) {
									if (hasOwnProperty.call(obj, dontEnums[i])) result.push(dontEnums[i]);
								}
							}
							return result;
						};
					})();
				}

				// IE8 und IE9 kennen Blob nicht > direkter Download nicht möglich
				/* Blob.js
				 * A Blob implementation.
				 * 2013-06-20
				 * 
				 * By Eli Grey, //eligrey.com
				 * By Devin Samarin, //github.com/eboyjr
				 * License: X11/MIT
				 *   See LICENSE.md
				 */

				/*global self, unescape */
				/*jslint bitwise: true, regexp: true, confusion: true, es5: true, vars: true, white: true,
				  plusplus: true */

				/*! @source //purl.eligrey.com/github/Blob.js/blob/master/Blob.js */

				if (!(typeof Blob === "function" || typeof Blob === "object") || typeof URL === "undefined")
				if ((typeof Blob === "function" || typeof Blob === "object") && typeof webkitURL !== "undefined") self.URL = webkitURL;
				else var Blob = (function(view) {
					"use strict";

					var BlobBuilder = view.BlobBuilder || view.WebKitBlobBuilder || view.MozBlobBuilder || view.MSBlobBuilder || (function(view) {
						var get_class = function(object) {
								return Object.prototype.toString.call(object).match(/^\[object\s(.*)\]$/)[1];
							},
							FakeBlobBuilder = function BlobBuilder() {
								this.data = [];
							},
							FakeBlob = function Blob(data, type, encoding) {
								this.data = data;
								this.size = data.length;
								this.type = type;
								this.encoding = encoding;
							},
							FBB_proto = FakeBlobBuilder.prototype,
							FB_proto = FakeBlob.prototype,
							FileReaderSync = view.FileReaderSync,
							FileException = function(type) {
								this.code = this[this.name = type];
							},
							file_ex_codes = ("NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR").split(" "),
							file_ex_code = file_ex_codes.length,
							real_URL = view.URL || view.webkitURL || view,
							real_create_object_URL = real_URL.createObjectURL,
							real_revoke_object_URL = real_URL.revokeObjectURL,
							URL = real_URL,
							btoa = view.btoa,
							atob = view.atob,
							ArrayBuffer = view.ArrayBuffer,
							Uint8Array = view.Uint8Array;
						FakeBlob.fake = FB_proto.fake = true;
						while (file_ex_code--) {
							FileException.prototype[file_ex_codes[file_ex_code]] = file_ex_code + 1;
						}
						if (!real_URL.createObjectURL) {
							URL = view.URL = {};
						}
						URL.createObjectURL = function(blob) {
							var type = blob.type,
								data_URI_header;
							if (type === null) {
								type = "application/octet-stream";
							}
							if (blob instanceof FakeBlob) {
								data_URI_header = "data:" + type;
								if (blob.encoding === "base64") {
									return data_URI_header + ";base64," + blob.data;
								} else if (blob.encoding === "URI") {
									return data_URI_header + "," + decodeURIComponent(blob.data);
								} if (btoa) {
									return data_URI_header + ";base64," + btoa(blob.data);
								} else {
									return data_URI_header + "," + encodeURIComponent(blob.data);
								}
							} else if (real_create_object_URL) {
								return real_create_object_URL.call(real_URL, blob);
							}
						};
						URL.revokeObjectURL = function(object_URL) {
							if (object_URL.substring(0, 5) !== "data:" && real_revoke_object_URL) {
								real_revoke_object_URL.call(real_URL, object_URL);
							}
						};
						FBB_proto.append = function(data/*, endings*/) {
							var bb = this.data;
							// decode data to a binary string
							if (Uint8Array && (data instanceof ArrayBuffer || data instanceof Uint8Array)) {
								var str = "",
									buf = new Uint8Array(data),
									i = 0,
									buf_len = buf.length;
								for (; i < buf_len; i++) {
									str += String.fromCharCode(buf[i]);
								}
								bb.push(str);
							} else if (get_class(data) === "Blob" || get_class(data) === "File") {
								if (FileReaderSync) {
									var fr = new FileReaderSync;
									bb.push(fr.readAsBinaryString(data));
								} else {
									// async FileReader won't work as BlobBuilder is sync
									throw new FileException("NOT_READABLE_ERR");
								}
							} else if (data instanceof FakeBlob) {
								if (data.encoding === "base64" && atob) {
									bb.push(atob(data.data));
								} else if (data.encoding === "URI") {
									bb.push(decodeURIComponent(data.data));
								} else if (data.encoding === "raw") {
									bb.push(data.data);
								}
							} else {
								if (typeof data !== "string") {
									data += ""; // convert unsupported types to strings
								}
								// decode UTF-16 to binary string
								bb.push(unescape(encodeURIComponent(data)));
							}
						};
						FBB_proto.getBlob = function(type) {
							if (!arguments.length) {
								type = null;
							}
							return new FakeBlob(this.data.join(""), type, "raw");
						};
						FBB_proto.toString = function() {
							return "[object BlobBuilder]";
						};
						FB_proto.slice = function(start, end, type) {
							var args = arguments.length;
							if (args < 3) {
								type = null;
							}
							return new FakeBlob(
								this.data.slice(start, args > 1 ? end : this.data.length),
								type,
								this.encoding
							);
						};
						FB_proto.toString = function() {
							return "[object Blob]";
						};
						return FakeBlobBuilder;
					}(view));

					return function Blob(blobParts, options) {
						var type = options ? (options.type || "") : "";
						var builder = new BlobBuilder();
						if (blobParts) {
							for (var i = 0, len = blobParts.length; i < len; i++) {
								builder.append(blobParts[i]);
							}
						}
						return builder.getBlob(type);
					};
				}(self));

				// Wenn Fenster geladen wird, löst IE und Firefox keinen popstate event aus
				// daher öffneUri nochmals auslösen
				window.onload = function() {
					window.adb.öffneUri();
				};

				// wenn User noch angemeldet ist, UI anpassen
				if (localStorage.Email) {
					$("#art_anmelden_titel").text(localStorage.Email + " ist angemeldet");
					$(".importieren_anmelden_titel").text("1. " + localStorage.Email + " ist angemeldet");
					$(".anmelden_btn").hide();
					$(".abmelden_btn").show();
					$(".konto_erstellen_btn").hide();
					$(".konto_speichern_btn").hide();
				}

				$("#menu")
				    // Baum aufbauen, wenn Gruppe gewählt wird
                    .on("click", ".gruppe", window.adb.handleOeffneGruppeClick)
                    // zwischen Mobil- und Desktopsicht wechseln
                    .on("click", "#btn_resize", window.adb.handleBtnResizeClick);

				// Menu: Links zu Google Bilder und Wikipedia nur aktiv setzen, wenn Art oder Lebensraum angezeigt wird
				$("body").on("click", "#menu_btn", window.adb.handleMenuBtnClick);

				$("#menu_btn")
                    // testen, ob der Browser das Importieren unterstützt
                    // wenn nein, Meldung bringen
                    .on("click", "#ds_importieren", window.adb.handleDs_ImportierenClick)
                    // testen, ob der Browser das Importieren unterstützt
                    // wenn nein, Meldung bringen
                    .on("click", "#bs_importieren", window.adb.handleBs_ImportierenClick)
                    .on("click", "#menu_admin", window.adb.handleMenuAdminClick)
                    .on("click", "#exportieren", window.adb.handleExportierenClick)
                    .on("click", "#exportieren_alt", window.adb.handleExportierenAltClick);

				$("#exportieren_diverses").on("click", "#admin_pilze_zhgis_ergänzen", window.adb.ergänzePilzeZhgis);

				$('#importieren_ds').on('shown.bs.collapse', '#importieren_ds_ds_beschreiben_collapse', window.adb.handleImportierenDsDsBeschreibenCollapseShown);

				$('#importieren_bs_ds_beschreiben_collapse').on('shown.bs.collapse', window.adb.handleImportierenBsDsBeschreibenCollapseShown);

				$('#importieren_ds_daten_uploaden_collapse').on('shown.bs.collapse', window.adb.handleImportierenDsDatenUploadenCollapseShown);

				$('#importieren_bs_daten_uploaden_collapse').on('shown.bs.collapse', window.adb.handleImportierenBsDatenUpladenCollapseShown);

				$('#importieren_ds_ids_identifizieren_collapse').on('shown.bs.collapse', window.adb.handleImportierenDsIdsIdentifizierenCollapseShown);

				$('#importieren_bs_ids_identifizieren_collapse').on('shown.bs.collapse', window.adb.handleImportierenBsIdsIdentifizierenCollapseShown);

				$('#importieren_ds_import_ausfuehren_collapse').on('shown.bs.collapse', window.adb.handleImportierenDsImportAusfuehrenCollapseShown);

				$('#importieren_bs_import_ausfuehren_collapse').on('shown.bs.collapse', window.adb.handleImportierenBsImportAusfuehrenCollapseShown);

				$("#importieren_ds")
                    .on("change", "#DsWaehlen", window.adb.handleDsWaehlenChange)
                    .on("change", "#DsName", window.adb.handleDsNameChange)
                    .on("change", "#DsImportiertVon", window.adb.handleDsImportiertVonChange)
                    .on("change", "#DsZusammenfassend", window.adb.handleDsZusammenfassendChange)
                    .on("change", "#DsFile", function(event) {
                        // den event hier stoppen, nicht erst in der Funktion
                        // hier übernimmt jQuery das stoppen, in der Funktion nicht
                        // dort gibt es folgendes Problem: IE9 kennt preventDefault nicht
                        event.preventDefault();
                        window.adb.handleDsFileChange();
                    })
                    .on("change", "#DsFelder", window.adb.handleDsFelderChange)
                    .on("change", "#DsId", window.adb.handleDsIdChange)
                    .on("click", "#DsLoeschen", function(event) {
                        // den event hier stoppen, nicht erst in der Funktion
                        // hier übernimmt jQuery das stoppen, in der Funktion nicht
                        // dort gibt es folgendes Problem: IE9 kennt preventDefault nicht
                        event.preventDefault();
                        window.adb.handleDsLöschenClick();
                    })
                    .on("click", "#DsImportieren", function(event) {
                        // den event hier stoppen, nicht erst in der Funktion
                        // hier übernimmt jQuery das stoppen, in der Funktion nicht
                        // dort gibt es folgendes Problem: IE9 kennt preventDefault nicht
                        event.preventDefault();
                        window.adb.handleDsImportierenClick();
                    })
                    .on("click", "#DsEntfernen", function(event) {
                        // den event hier stoppen, nicht erst in der Funktion
                        // hier übernimmt jQuery das stoppen, in der Funktion nicht
                        // dort gibt es folgendes Problem: IE9 kennt preventDefault nicht
                        event.preventDefault();
                        window.adb.handleDsEntfernenClick();
                    })
                    // verhindern, dass bootstrap ganz nach oben scrollt
                    .on("click", ".panel-heading a", function(event) {
                        event.preventDefault();
                    });

                $("#importieren_bs")
                    .on("change", "#BsWaehlen", window.adb.handleBsWaehlenChange)
                    .on("change", "#BsName", window.adb.handleBsNameChange)
                    .on("change", "#BsImportiertVon", window.adb.handleBsImportiertVonChange)
                    .on("change", "#BsZusammenfassend", window.adb.handleBsZusammenfassendChange)
                    .on("change", "#BsFile", function(event) {
                        // den event hier stoppen, nicht erst in der Funktion
                        // hier übernimmt jQuery das stoppen, in der Funktion nicht
                        // dort gibt es folgendes Problem: IE9 kennt preventDefault nicht
                        event.preventDefault();
                        window.adb.handleBsFileChange();
                    })
                    .on("change", "#BsId", window.adb.handleBsIdChange)
                    .on("change", "#BsFelder", window.adb.handleBsFelderChange)
                    .on("click", "#BsImportieren", function(event) {
                        // den event hier stoppen, nicht erst in der Funktion
                        // hier übernimmt jQuery das stoppen, in der Funktion nicht
                        // dort gibt es folgendes Problem: IE9 kennt preventDefault nicht
                        event.preventDefault();
                        window.adb.handleBsImportierenClick();
                    })
                    .on("click", "#BsLoeschen", function(event) {
                        // den event hier stoppen, nicht erst in der Funktion
                        // hier übernimmt jQuery das stoppen, in der Funktion nicht
                        // dort gibt es folgendes Problem: IE9 kennt preventDefault nicht
                        event.preventDefault();
                        window.adb.handleBsLoeschenClick();
                    })
                    .on("click", "#BsEntfernen", function(event) {
                        // den event hier stoppen, nicht erst in der Funktion
                        // hier übernimmt jQuery das stoppen, in der Funktion nicht
                        // dort gibt es folgendes Problem: IE9 kennt preventDefault nicht
                        event.preventDefault();
                        window.adb.handleBsEntfernenClick();
                    });

				$("#export")
                    .on("change", ".exportieren_ds_objekte_waehlen_gruppe", window.adb.handleExportierenDsObjekteWaehlenGruppeChange)
                    .on("change", ".feld_waehlen", window.adb.handleFeldWaehlenChange)
                    .on("change", ".feld_waehlen_alle_von_ds", window.adb.handleFeldWaehlenAlleVonDs)
                    .on("change", ".export_feld_filtern", window.adb.handleExportFeldFilternChange)
                    .on("change", "#export_bez_in_zeilen,#export_bez_in_feldern,#exportieren_synonym_infos,#exportieren_nur_ds,.feld_waehlen_alle_von_ds", window.adb.exportZuruecksetzen)
                    .on("click", "#exportieren_objekte_Taxonomien_zusammenfassen", function(event) {
                        // event stoppen, um zu verhindern, dass bootstrap ganz nach oben scrollt
                        // den event hier stoppen, nicht erst in der Funktion
                        // hier übernimmt jQuery das stoppen, in der Funktion nicht
                        // dort gibt es folgendes Problem: IE9 kennt preventDefault nicht
                        event.preventDefault();
                        // this übergeben!
                        window.adb.handleExportierenObjekteTaxonomienZusammenfassenClick(this);
                    })
                    .on("click", "#exportieren_exportieren_exportieren", function(event) {
                        // event stoppen, um zu verhindern, dass bootstrap ganz nach oben scrollt
                        // den event hier stoppen, nicht erst in der Funktion
                        // hier übernimmt jQuery das stoppen, in der Funktion nicht
                        // dort gibt es folgendes Problem: IE9 kennt preventDefault nicht
                        event.preventDefault();
                        window.adb.handleExportierenExportierenExportierenClick();
                    })
                    .on("click", "#exportieren_exportieren_exportieren_direkt", function(event) {
                        // event stoppen, um zu verhindern, dass bootstrap ganz nach oben scrollt
                        // den event hier stoppen, nicht erst in der Funktion
                        // hier übernimmt jQuery das stoppen, in der Funktion nicht
                        // dort gibt es folgendes Problem: IE9 kennt preventDefault nicht
                        event.preventDefault();
                        // auf eigene Funktion verzichten, da nur ein Aufruf
                        window.adb.filtereFürExport("direkt");
                    })
                    // verhindern, dass bootstrap ganz nach oben scrollt
                    .on("click", ".panel-heading a", function(event) {
                        event.preventDefault();
                    });

				$("#exportieren_exportieren").on("show", window.adb.handleExportierenExportierenShow);

				$("#art")
                    .on("click", ".btn.lr_bearb", function(event) {
                        event.preventDefault();
                    })
                    .on("click", ".btn.lr_bearb_bearb", window.adb.handleBtnLrBearbBearbKlick)
                    .on("click", ".btn.lr_bearb_schuetzen", window.adb.handleBtnLrBearbSchuetzenClick)
                    .on("click", ".btn.lr_bearb_neu", window.adb.handleBtnLrBearbNeuClick)
                    .on("change", ".Lebensräume.Taxonomie .controls", window.adb.handleLrTaxonomieControlsChange);

				$("#lr_parent_waehlen_optionen").on("change", '[name="parent_optionen"]', window.adb.handleLrParentOptionenChange);

				$(document).on("click", "#rueckfrage_lr_loeschen_ja", function(event) {
					// den event hier stoppen, nicht erst in der Funktion
					// hier übernimmt jQuery das stoppen, in der Funktion nicht
					// dort gibt es folgendes Problem: IE9 kennt preventDefault nicht
					event.preventDefault();
					window.adb.handleRueckfrageLrLoeschenJaClick();
				});

				$('#art').on('shown.bs.collapse', '.Lebensräume.Taxonomie', window.adb.handlePanelbodyLrTaxonomieShown);

				$('#export').on('shown.bs.collapse', '#exportieren_exportieren_collapse', window.adb.handleExportierenExportierenCollapseShown);

				$(".form")
                    .on("keyup focus", "textarea", window.adb.handleTextareaKeyupFocus)
                    // Wenn panel geöffnet wird: Höhe der textareas an Textgrösse anpassen
                    .on("shown.bs.collapse", ".panel", window.adb.handlePanelShown)
                    // Klick auf Link zu Art steuern
                    .on("click", ".LinkZuArtGleicherGruppe", function(event) {
                        // den event hier stoppen, nicht erst in der Funktion
                        // hier übernimmt jQuery das stoppen, in der Funktion nicht
                        // dort gibt es folgendes Problem: IE9 kennt preventDefault nicht
                        event.preventDefault();
                        window.adb.handleLinkZuArtGleicherGruppeClick($(this).attr("artid"));
                    });
			});

			$(window).resize(window.adb.handleResize);

			$(document).on("click", ".anmelden_btn", function(event) {
				// den event hier stoppen, nicht erst in der Funktion
				// hier übernimmt jQuery das stoppen, in der Funktion nicht
				// dort gibt es folgendes Problem: IE9 kennt preventDefault nicht
				event.preventDefault();
				// this übergeben, kommt sonst nicht mit!
				window.adb.handleAnmeldenBtnClick(this);
			});

			$(document).on("click", ".abmelden_btn", function(event) {
				// den event hier stoppen, nicht erst in der Funktion
				// hier übernimmt jQuery das stoppen, in der Funktion nicht
				// dort gibt es folgendes Problem: IE9 kennt preventDefault nicht
				event.preventDefault();
				// auf eigene Funktion verzichten, da nur ein Aufruf
				window.adb.meldeUserAb();
			});

			$(document).on("keyup", ".Email", window.adb.handleEmailKeyup);

			$(document).on("keyup", ".Passwort", window.adb.handlePasswortKeyup);

			$(document).on("keyup", ".Passwort2", window.adb.handlePasswort2Keyup);

			$(document).on("click", ".konto_erstellen_btn", function(event) {
				// den event hier stoppen, nicht erst in der Funktion
				// hier übernimmt jQuery das stoppen, in der Funktion nicht
				// dort gibt es folgendes Problem: IE9 kennt preventDefault nicht
				event.preventDefault();
				// this übergeben
				window.adb.handleKontoErstellenBtnClick(this);
			});

			$(document).on("click", ".konto_speichern_btn", function(event) {
				// den event hier stoppen, nicht erst in der Funktion
				// hier übernimmt jQuery das stoppen, in der Funktion nicht
				// dort gibt es folgendes Problem: IE9 kennt preventDefault nicht
				event.preventDefault();
				window.adb.handleKontoSpeichernBtnClick(this);
			});

		</script>
	</body>
	<div id="Meldung"></div>

	<div id="meldung_kompatibilität" class="modal fade">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h3>inkompatibler Browser</h3>
				</div>
				<div class="modal-body">
					<p>Ihr Browser unterstützt nicht alle Funktionen, die ArtenDb voraussetzt.<br><br>Verwenden Sie eine aktuelle Version von z.B. <a href='//google.de/chrome/'>Google Chrome</a>, <a href='//mozilla.org/de/firefox/new/'>Mozilla Firefox</a> oder den <a href='http://windows.microsoft.com/de-de/internet-explorer/download-ie'>Internet Explorer (ab Version 10)</a>.</p>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal -->
	<div id="fileApiMeldung" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
					<h3>inkompatibler Browser</h3>
				</div>
				<div class="modal-body">
					<p id="fileApiMeldungText">One fine body…</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" data-dismiss="modal" aria-hidden="true">schliessen</button>
				</div>
			</div>
		</div>
	</div>

	<div id="meldung_zuviele_bs" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
					<h3>Zuviele Beziehungssammlungen gewählt</h3>
				</div>
				<div class="modal-body">
					<p>Es können nur Daten aus einer Beziehungssammlung gleichzeitig exportiert werden.<br>Grund: Für jede Beziehung wird eine neue Zeile erstellt</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" data-dismiss="modal" aria-hidden="true">schliessen</button>
				</div>
			</div>
		</div>
	</div>

	<div id="meldung_keine_exportdaten" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
					<h3>Keine Daten gewählt</h3>
				</div>
				<div class="modal-body">
					<p>Es gibt keine Daten, die exportiert werden könnten.<br>Bitte prüfen Sie die Filterkriterien</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" data-dismiss="modal" aria-hidden="true">schliessen</button>
				</div>
			</div>
		</div>
	</div>

	<div id="meldung_ds_nicht_bearbeitbar" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
					<h3>leider nein...</h3>
				</div>
				<div class="modal-body">
					<p>Sie können nur Datensammlungen verändern, die Sie selber importiert haben<br>Ausnahme: Zusammenfassende Datensammlungen</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" data-dismiss="modal" aria-hidden="true">schliessen</button>
				</div>
			</div>
		</div>
	</div>

	<div id="meldung_bs_nicht_bearbeitbar" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
					<h3>leider nein...</h3>
				</div>
				<div class="modal-body">
					<p>Sie können nur Beziehungssammlungen verändern, die Sie selber importiert haben<br>Ausnahme: Zusammenfassende Beziehungssammlungen</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" data-dismiss="modal" aria-hidden="true">schliessen</button>
				</div>
			</div>
		</div>
	</div>

	<div id="meldung_keine_gruppen" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
					<h3 id="meldung_keine_gruppen_label">Keine Gruppe gewählt</h3>
				</div>
				<div class="modal-body">
					<p id="meldung_keine_gruppen_text">Bitte wählen Sie mindestens eine Gruppe, deren Daten exportiert werden sollen</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" data-dismiss="modal" aria-hidden="true">schliessen</button>
				</div>
			</div>
		</div>
	</div>

	<div id="meldung_individuell" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
					<h3 id="meldung_individuell_label">Beispielstext</h3>
				</div>
				<div class="modal-body">
					<p id="meldung_individuell_text">Beispielstext</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" data-dismiss="modal" aria-hidden="true" id="meldung_individuell_schliessen">schliessen</button>
				</div>
			</div>
		</div>
	</div>

	<div id="rueckfrage_lr_loeschen" class="modal fade">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h3 id="rueckfrage_lr_loeschen_label">Sicher?</h3>
				</div>
				<div class="modal-body">
					<p id="rueckfrage_lr_loeschen_text">Wollen Sie diesen Lebensraum wirklich löschen?<br>Alle hierarchisch darunter liegenden werden mit gelöscht!</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal" id="rueckfrage_lr_loeschen_abbrechen">nein, abbrechen</button>
					<button type="button" class="btn btn-primary" id="rueckfrage_lr_loeschen_ja" data-dismiss="modal">ja, löschen</button>
				</div>
			</div>
		</div>
	</div>

	<div id="lr_parent_waehlen" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h3>Hierarchie</h3>
				</div>
				<div id="lr_parent_waehlen_optionen" class="modal-body" style="margin-bottom:5px;">
				</div>
			</div>
		</div>
	</div>
</html>